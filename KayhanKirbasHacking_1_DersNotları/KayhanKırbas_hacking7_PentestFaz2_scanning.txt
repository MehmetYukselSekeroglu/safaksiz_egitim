######################################################################
-NETDİSCOVER VE ARP-SCAN İLE HOST DİSCOVERY:
> bulunduğumuz ağ içerisinde kimler var öğrenmek için local ağ keşfi yapacağız
> netdiscover -> direk olarak bu isimdir direk tarama başlatır parametre alması iyidir 
    > netdiscover -r 10.10.10.0/24 -> şeklinde bir aralık verebiliriz 
      netdiscover kendini gizlemek için local ip adresini maskeleyebilir 
    > -f verirsek fest yani hızlıdır iyi olmaz
    > -i interface demektir 
    > -p pasif tarama demektir -> gizlilik içindir !!!
     
> arp-scan:
    > -l ile direk local network u tarar
    > -v verbose demektir 
    > -r2 -> arp paketlerini 2 kez gönderir 
    > kendi ip adresimizi saklama ön tanımlı olarak
        > -s fake_ip -> ile gizlenebiliriz
        > -S fake_mac -> sahte mac ile tarar
#########################################################################
-NMAP, KOMUT VE PARAMETRELERİ (NMAP CHEAT SHEET):
> ağdaki cihazlar için tarama, tespit, ve keşif ypabilen gelişmiş ve ünlü bir programdır 
  1997 yılından beri kullanılmaktadır. c,c++,python ve lua programlama dilleriyle yazılmıştır 

> örnek kullanımları:
    > nmap -p 80 192.168.1.1 -> ip adresinin 80 nolu portunu tarar
    > nmap -T 4 192.168.1.1-50 -> 6/4 hız ile 1-50 aralığını tarar 
    > nmap -O 192.168.1.0/24 -> network deki işletim sistemlerini çıkart demektir 

> parametreler kombine edilerek birlikte kullanılabilir 

> önemli parametreler ve kullanımları:
    > nmap 192.168.1.1 192.168.1.23 -> belirli ip adreslerini tarar
    > 192.168.1.1-29 -> ip aralıgını tarama 
    > 192.168.1.0/24 -> ağı tarar 
    > nmap google.com -> domain taraması 
    > nmap -iL hedefler.txt -> dosyadaki hedeflerin toplu taranması 
    > nmap -iR 100 -> belirli sayıda rastgele host taraması 
    > nmap --exclude 192.168.1.22 -> dışlanmış ip ile tarama -> yani mayına basmamızı engeller 
    > -n -> dns çözümleme yapmadan tarama 
    > -sn -> port taramasız ve isim çözümlemesiz 
    > -PR -> arp paketli ping taraması
    > -PN pingsiz sadece port taramsı 
    > -PA -> TCP ACK flag ile ping taraması 
    > nmap 192.168.1.10 -sT -> tcp port taraması 
    > nmap 192.168.1.10 -sS SYN flag ile tcp port taraması 
    > -sA -> ACK flag ile tcp port taraması 
    > -sU -> udp port taraması
    > nmap 192.168.1.1 -p 21-100 -> belirli bir port aralığının taranmsı 
    > nmap 192.168.1.1  -p U:53, T:21-25,80 -> belirli udp ve tcp portlarının taranması 
    > -p- -> tüm portların taranması (not: 65500 port bulunmaktadır ona göre kullanalım ) 
    > -p http,ftp -> servis adıyla port taraması 
    > -F hızlıca 100 portun taranması 
    > --top-ports 1000 -> en bilinen 1000 portun taranması 
    
    --servis ve versiyonlrın taranması:
    > -sV -> portda çalışan servisin versiyon taraması
    > -sV --version-intensity 8 -> 0-9 arasındaki 8.hassasiyet ile versiyon taraması (daha yüksek sayı daha dorğu sonuç demektir) 
    > -sV --version-light -> hızlı ve hafif versiyon taraması 
    > -sV --version-all -> en yüksek "9.seviye" seviye versiyon taraması
    
    --OS tespit taraması:
    > -O -> Os tespit taraması TCP/IP fingerprint ile 
    > -O --osscan-limi -> TCP portu bulunan hedefler için tarama 
    > -O --osscan-guess -> daha agresif tahminler ile tarama 
    > -O --max-os-tries 1 -> bir kez denemeli OS taraması 
    > -A -> OS versiyon ve güvenlik açığı taraması 
    
    --Zaman ve performans ayarlı tarama:
    > -T0 -> (paranoid) IDS atlatmalı ve en yavaş tarama (dış WAN ağda kullanım)
    > -T1 -> (sneaky) IDS atlatmalı ve yavaş tarama 
    > -T2 -> (polite) daha hızlı ama daha az tespitli tarama 
    > -T3 -> (normal) varsayılan hızda olan tarama 
    > -T4 -> (aggressive) hızlı ve agresif tarama (LAN ağda kullanım)
    > -T5 -> (ınsane) en hızlı tarama (LAN ağda kullanım)
    
    --NSE (Nmap Script Engine) ile tarama:
    > -sC -> en bilinen scriptler ile tarama 
    > --script http-sql-injection -> Belirli bir script ile tarama 
    > --script smb* -> belirli scriptlerin tamamı ile tarama 
    > nmap --scirpt snmp-sysdescr --script-args snmpcommunity=admin 192.168.1.1 -> argümanlı script taraması 
    > --script vuln -> tüm scriptler ile tarama 
    > nmap --script-updatedb -> script veritabanının güncellenmesini sağlar "scriptler /usr/share/nmap/scrpits" altındadır 
    
    -- Firewall ve IDS atlatmalı tarama: (firewall evasion olarakda denmektedir)
    > -f -> parçalı ip paketleri ile tarama , algılamayı zorlaştırır 
    > --mtu 16 -> paket boyutunu değiştirerek tarama , tek seferde gönderilecek paket boyutu 8 ve üzeri olmalıdır 
    > nmap -D RND:10 -> rastgele 10 adet decoy ip adresi ile tarama 
    > nmap -D 192.168.1.5, 192.168.1.6, 192.168.1.7, 192.168.1.1 -> belirli sahte ipler ile çoklu ip ile tarama bunlar arasınad bizde olmalıyız
    > nmap -S www.microsoft.com www.facebook.com -> belirli sahte bir kaynak ile bir hedefe tarama 
    > nmap -g 53 192.168.1.1 -> belirli kaynak port numarasından tarama
    > nmap --proxies http://192.168.1.23:3121, http://192.168.1.35:3232 192.168.1.1 -> belirli proxyler üzerinden tarama 
    > nmap --data-length 25 192.168.1.1 -> gönderilen paketlere rastgele olarak 25 byte daha eklemeli tarama 
    
    ---çıktı alımlı tarama:
    > -oN abc.txt -> normal dosya çıktısı
    > -oX abc.xml -> XML dosya çıktısı
    > -oG abc.grep -> grep dosya çıktısı
    > -oA sonuçlar -> 3 lü formatda çıktı alma
    > -v -> verbose yani bilgi vermesidir v adedi arttıkca bilgi miktarı artar -tarama detayı
    > -d -> daha fazla hata detayı d adedi arttıkça detay miktarı artar 
    > --open -> sadece açık portları görüntüleme  
    > --packet-trace -> gönderilen ve alınan tüm paketleri görüntüleme 
    > --iflist -> hedefin ethernet ve route lerini görüntüleme 
    > --resume sonuç.txt -> dosyadan tarama 
    
    
    
###########################################################################
-NMAP SCRİPT ENGİNE NSE YARDIM ALMA:
> nmap nse scriptleri /usr/share/nmap/scripts altında bulunmaktadır 
> nmap --script-help=script.nse şeklinde kullanılarak yardım alınabilir 
	> yardım yazısında nmap in kendi nse doc sayfasınında linkini vermektedir 
	> buralardan yararlanarak okuyabiliriz 
	> nmap in gerçek gücünü göstermektedir 
	
##################################################################################
NSE İLE NETBİOS DİSCOVERY:
> nmap --script nbstat 192.168.1.1 -> en basit kullanımı
> nmblookup -A 192.168.1.1 -> farklı bir tool ile yapılması

####################################################
-NSE ile SMB Enumeration:
> server mesage blog olarak yani suncuu mesaj blogu olarak çevrilir 
> ağ içi dosya yazıcı paylaşım vs için kullanılan bir protokoldür 
> yönetimsel paylaşımların sonu $ ile biter ve listelenmez
> tcp 445 de çalışmaktadır 

> ekl bilgi -> smbclient -L -N 192.168.1.1 
			  |  |-> NULL yani boş kullanıcı adı ile giriş
			  |-> list 
	> smbclient \\\\192.168.1.22\\\\IPC$ -N
			|-> IPC gizli klasörüne boş kullanıcı adı ile giriş örneğidir 
			-U ile kullanıcı adı belirtebiliriz 

-NSE İLE MYSQL enumeration:
> nmap 192.168.1.1 -p hedef_port_opsiyonel --script mysql-info
> mysql_native_password -> mesela böyle bir bilgi verirse eski tip kimlik doğrulama var demektir 
ve bu hiç güvenli değildir mesela 

> --script mysql-enum -> dersek keşif yapacaktır 
--> UYARI: tarama modunda saldırı yapılmaz çok acemice bir haraket olacaktır bu!!!!

> -d parametresi ile işlemleri bizde görebiliriz 

-NSE ile SSH Enumeration:
>  nmap --script banner 192.168.1.1 -> karşılaştırma bilgisine bakar ve versiyon vs almamızı sağlar 
> --script ssh-auth-methods -> doğrulama metotlarına bakar 
> --script ssh2-enum-algos -> desteklenen algoritmaları keşfeder md5 vs çok korumasız vs dir 
> --script ssh-hostkey 


-NSE ile HTTP Enumeration:
> http farklı portlardada çok sık kullanıldığı için taramamıza tüm portları dahil etmemiz gerekmektedir 
> -p- parametresi ile yapacağiz bunuda
> veya -p ile arka arkaya verebiliriz 
> versiyon bilgisini eklemek script için etkili olur 
> örnek kullanım: nmap -p 12,13,14,564,880 -T4 -sV --script http-methods 
	> desteklenen http methodlarını getirir 
	> bazı methodlar:
		- GET: bir obje okumak istediğimizi söyleriz
		- HEAD: web sayfası headerini çekmeyi sağlar 
		- POST: veriyi dosya oolarak gönderir 
		- PUT: veriyi günceller
		- DELETE: bir veri silmek için istek yapmamızı sağlar 
		- OPTİONS: methodları sormamızı sağlar 
		- TRACE: takip teşhis arada proxy varmı anlamamızı sağlar 
	

> örnek: --script http-apache-server-status -> apache sunucusunun durumunu bakar
> --script http-date  -> sunucu zaman bilgisini almaya çalışır 
> --script http-backup-folder -> http yedeklerine bakar 
  --script http-config-backup -> http config yedeklerini ara 
  	   http-brute -> http brute force yapar 
  	   http-php-version -> php versiyonunu almaya çalışır 
  	   http-security-headers -> güvenlik headerlarına bakar 
  	   http-slowloris-check -> sunucunun çok fazla isteğe vereceği yanıta bakar 
  	   http-userdir-enum -> potansiyol kullanıcıları çıkartır 
  	   http-errors -> http hatalarına bakar 
  	  
NOT: 404 not found vs web sunucusu hakkında bilgi verebilir 
NOT: hsts https downgrade bilgisi verir 
> not: "," kullanarak 2 scipti arka arkaya kullanabiliriz

-NSE İLE GÜVENLİK AÇIĞI VE CVE TESPİTİ (VULN, VULNERS):
> nmap ip_adresi -p- -sV -T4 -vv -oN kayıt.txt --script vuln
> nmap ip_adresi -p- -sV -T+ -vv -oN kayı2.txt --script vulners 

- NMAP VULSCAN İLE GÜVENLİK AÇIĞI VE CVE TESPİTİ:
> bunu harici olarak kurmamız lazım github üzerinden vulscan ile aratmak yeterlidir 
> not nmap içine script ekledikçe db yi update etmek gerekir 

-LEGİON (NMAP GUI) İLE TÜMLEŞİK TARAMA:
> nmap ile yapılan herşeyide yapabiliriz nmap için gui kısacaası
> gui oldugu için pek anlatmaya gerek yok

> windows server r2 açık kalma süresini legal olarak arttırmak
	> slmgr.vbs /dlv
	> slmgr.vbs /rearm    
> lisans süresini +50 gün atlatmamızı sağalr 

##################################################################################
-NESSUS İLE GÜVENLİK AÇIĞI TESPİTİ:
> nessus un firması tenable dir sitesinden ücretsdiz versiyonu kuralım 
> pro halini almakta fayda vardır 
> gui oldugu için pek anlatılmaya gerek yok aslında  
 
 
#######################################################################################
- GREENBONE İLE GÜVENLİK AÇIĞI TESPİTİ:
> ücretsiz ve açık kaynaklıdır 
> sudo apt install gvm diyerek indirilebilir 
> 3gb disk alanı yiyebilir 
> gvm-start diyerek başlatalım kendisi aşırı kaynak yiyebilmektedir 
> kurulumuda uzun sürmektedir 
> test wizard diyerek tarama başlatabiliriz 

###########################################################################################
    
    
    
    
    
    
    
    
